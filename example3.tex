% ----------------------------------------------------------------------
% Example with variables (Notation)
% ----------------------------------------------------------------------
\begin{frame}<1-15,22->{With variables}

\vspace{-1cm}
%
{\small
\begin{semiverbatim}
\alert<8,9,13,15>{{\alert<6,7>{\hspace{2mm}{\alert<5>{n}(\alert<2,4>{1})}}}}\alert<8,9,15>{.} \newline
\alert<8,10,13,15>{\{\alert<6,7>{{\alert<5>{{a}}(\alert<3,4>{{X}})}}\}}\alert<8,10,15>{\myleftarrow}\alert<6,7,8,10,14,15>{{\alert<5>{{ n}}(\alert<3,4>{{X}})}}\alert<8,10,15>{.}\newline
\alert<6,7,8,11,13,15>{\hspace{2mm}{\alert<5>{{b}}(\alert<3,4>{{X}})}}\alert<8,11,15>{\hspace{2mm}\myleftarrow}\alert<6,7,8,11,14,15>{{\alert<5>{{ a}}(\alert<3,4>{{X}})}}\alert<8,11,15>{.}\newline
\alert<8,12,15>{\myleftarrow}\alert<6,7,8,12,14,15>{{\alert<5>{{ n}}(\alert<3,4>{{X}})}}\alert<8,12,14,15>{,}\alert<7,8,12,14,15>{ \myneg}\alert<6,7,8,12,14,15>{{\alert<5>{{ b}}(\alert<3,4>{{X}})}}\alert<8,12,15>{.}\newline
\end{semiverbatim}}%
\vspace{-0.65cm}\hspace{8mm}%
\alert<2-15>{
\only<2>{constant}%
\only<3>{variables}%
\only<4>{terms}%
\only<5>{predicates}%
\only<6>{atoms}%
\only<7>{literals}%
\only<8>{rules}%
\only<9>{fact}%
\only<10>{choice rule}%
\only<11>{normal rule}%
\only<12>{constraint rule}%
\only<13>{heads}%
\only<14>{bodies}%
\only<15>{program}%
} %\alert
\vspace{-2cm}
%

\begin{columns}
\begin{column}{0.26\textwidth}\end{column}
\begin{column}{0.74\textwidth}

\begin{tikzpicture}[
  examples,
  smallsm/.style={smodel, font=\footnotesize\ttfamily, align=center, inner sep=0.5mm},
  every node/.style={node distance=1.5cm and 1cm, on grid, font=\footnotesize},
  myrule/.style={rule, minimum width = 4cm},
]

% line 0
\uncover<22->{\alert<22>{
\node[smallsm] (node01) {};
}}

% line 1
\uncover<23->{\alert<23>{
\node[smallsm, below=of node01, yshift=2.5mm] (node11) {n(1)}
  edge[arrow] (node01);
\node[myrule, right=of node11, xshift=3cm] (rule1) {\scode n(1).\hspace{7mm}};
}}

% line 2
\uncover<24->{\alert<24>{
\node[smallsm, below left=of node11, yshift=4mm] (node21) {n(1)}
  edge [arrow] (node11);
\node[smallsm, below right=of node11, yshift=4mm] (node22) {n(1) \\ a(1)}
  edge [arrow] (node11);
%\node[myrule, right=of node22, xshift=2cm] (rule2) {$\{a(X)\} \myleftarrow n(X)$};
\node[myrule, align=left, below=of rule1, yshift=4mm] (rule2) {\scode \hspace{10mm}\{a(X)\} :- n(X).};
}}

% line 3
\uncover<25->{\alert<25>{
\node[smallsm, below=of node21] (node31) {n(1)}
  edge [arrow] (node21);
\node[smallsm, below=of node22] (node32) {n(1) \\ a(1) b(1)}
  edge [arrow] (node22);
\node[myrule, below=of rule2] (rule3) {\scode \hspace{10mm}b(X) :- a(X).};
}}

% line 4
\uncover<26->{\alert<26>{
%\node[smallsm, below=of node21] (node31) {n(1)}
%  edge [arrow] (node21);
\node[smallsm, below=of node32] (node42) {n(1) \\ a(1) b(1)}
  edge [arrow] (node32);
\node[myrule, below=of rule3] (rule4) {\scode \hspace{20mm}:- n(X), not b(X).};
}}

\uncover<27->{\node[any, below=of node32, xshift=13mm, yshift=-4mm] (ok) {\MiddleBigBiggerOK};}

\visible<28>{
  \draw[on grid] ($ (rule1.north west) + (0.8cm,-0.1) $) rectangle ($ (rule4.south east) + (0,0.1) $);
 \node[on grid] at ($ (rule1.north) + (9mm,4.5mm) $) {\texttt{\normalsize example3.lp}};
}

\end{tikzpicture}
\end{column}
\end{columns}

\end{frame}
