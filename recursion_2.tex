\begin{columns}
\begin{column}{0.05\textwidth}\end{column}
\begin{column}{0.2\textwidth}
\texttt{%
\{a\}.                             \newline
\alert<1>{%
\alt<8->{\alert<8>{\hspace{2mm}b\hspace{1.85mm}:- c.}}{\{b\}:- c.} \newline
\{c\}:- a. \newline
\{a\}:- b. \newline
}}
\end{column}
\begin{column}{0.5\textwidth}
\vspace{-1cm}
\begin{center}
\begin{tikzpicture}
[
  examples,
  x=1cm,
  y=-1cm,
  every node/.style={node distance=1.2cm and 1cm, on grid},
  small/.style={inner sep=0.5mm},
  rule_dep/.style={align=center, draw},
  rule_arrow/.style={<-},
  cycle_arrow/.style={rule_arrow, dotted, thick, shorten <= 0.5mm, shorten >= 0.5mm},
  rule_arrow_neg/.style={rule_arrow, dashed},
]


%
% smodel
%

\visible<-7>{
% line 0
%\uncover<2->{\alert<2>{
\node[smodel] (node01)  at ( 0, 0) {};
%}}


%
% correct models
%

% line 1
\node[smodel, below left=of  node01] (node11) {}    edge [arrow] (node01);
\node[smodel, below right=of node01] (node12) {a} edge [arrow] (node01);

\only<-4>{
% line 2
\uncover<2-4>{\alert<2>{
\node[smodel, below=of  node11]                         (node21) {}        edge [cycle_arrow] (node11);
\node[smodel, below left=of  node12, small, xshift=0mm] (node22) {a}     edge [cycle_arrow] (node12);
\node[smodel, below right=of node12, small, xshift=0mm] (node23) {a c} edge [cycle_arrow] (node12);
}}

% line 3
\uncover<3-4>{\alert<3>{
\node[smodel, below=of  node21]                         (node31) {}            edge [cycle_arrow] (node21);
\node[smodel, below=of  node22, small]                  (node32) {a}         edge [cycle_arrow] (node22);
\node[smodel, below left=of  node23, xshift=0mm, small] (node33) {a c}     edge [cycle_arrow] (node23);
\node[smodel, below right=of node23, xshift=0mm, small] (node34) {a c b} edge [cycle_arrow] (node23);
\draw[cycle_arrow,->] (node22) -- (node33);
}}

% line 4
\uncover<4>{\alert<4>{
\node[smodel, below=of node31]        (node41) {}            edge [cycle_arrow] (node31);
\node[smodel, below=of node32, small] (node42) {a}         edge [cycle_arrow] (node32);
\node[smodel, below=of node33, small] (node43) {a c}     edge [cycle_arrow] (node33);
\node[smodel, below=of node34, small] (node44) {a c b} edge [cycle_arrow] (node34);
\draw[cycle_arrow,->] (node32) -- (node43);
\draw[cycle_arrow,->] (node33) -- (node44);
}}

} %\only

% line 2
\visible<5->{\alert<5>{
\node[smodel, below=of node11]                            (node21) {}            edge [arrow] (node11);
\node[smodel, below left=of node12, small]   (node22) {a}         edge [arrow] (node12);
\node[smodel, below=of node12, small] (node23) {a c}     edge [arrow] (node12);
\node[smodel, below right=of node12, small, xshift=8mm] (node24) {a c b} edge [arrow] (node12);
}}

\visible<6->{
\node[any] (ok1) at ($ (node21.south east) + (2mm,-1mm) $) {\OK};
\node[any] (ok2) at ($ (node22.south east) + (1.5mm,-1mm) $) {\OK};
\node[any] (ok3) at ($ (node23.south east) + (2.5mm,-1mm) $) {\OK};
\node[any] (ok4) at ($ (node24.south east) + (3mm,-1mm) $) {\OK};
}

} % \visible

\only<9->{
% line 0
\node[smodel] (xnode01)  at ( 0, 0) {};

% line 1
\alert<9>{
\node[smodel, below=of xnode01, small, xshift=-5mm] (xnode11) {}    edge [arrow] (xnode01);
\node[smodel, below=of xnode01, small, xshift= 5mm] (xnode12) {a} edge [arrow] (xnode01);
}

% line 2
\visible<10-14,16->{\alert<10,16,17>{
%\uncover<10->{\alert<10>{
\node[smodel, below=of  xnode11]                         (node21) {}    edge [cycle_arrow] (xnode11);
\node[smodel, below=of  xnode12, small, xshift=0mm]      (node22) {a}   edge [cycle_arrow] (xnode12);
\alt<17->{
\node[smodel, below right=of xnode12, small, yshift=0.35mm, xshift=3mm] (node23) {a c b} edge [cycle_arrow] (xnode12);
}{
\node[smodel, below right=of xnode12, small, xshift=0mm] (node23) {a c} edge [cycle_arrow] (xnode12);
}
}}

% line 3
\visible<11-14,18->{
\alt<18->{\alert<18-20>{
\node[smodel, below=of node21]                          (node31) {}      edge [cycle_arrow] (node21);
\node[smodel, below=of node22, small]                   (node32) {a}     edge [cycle_arrow] (node22);
\alt<19->{{
\node[smodel, below=of node23, small]                   (node33) {a c b}   edge [cycle_arrow] (node22);
}}{
\node[smodel, below=of node23, small]                   (node33) {a c}   edge [cycle_arrow] (node22);
}
\alt<20->{{
\draw[cycle_arrow,->] (node23) -- (node33);
}}{
\node[smodel, below right=of node23, small, xshift=5mm] (node34) {a c b} edge [cycle_arrow] (node23);
}}}
{\alert<11>{
\node[smodel, below=of node21]                          (node31) {}      edge [cycle_arrow] (node21);
\node[smodel, below=of node22, small]                   (node32) {a}     edge [cycle_arrow] (node22);
\node[smodel, below=of node23, small]                   (node33) {a c}   edge [cycle_arrow] (node22);
\node[smodel, below right=of node23, small, xshift=6mm] (node34) {a c b} edge [cycle_arrow] (node23);
}}}
%\draw[cycle_arrow,->] (node23) -- (node33);

% line 4
\visible<12-14>{\alert<12>{
\node[smodel, below=of node31]        (node41) {}      edge [cycle_arrow] (node31);
\node[smodel, below=of node32, small] (node42) {a}     edge [cycle_arrow] (node32);
\node[smodel, below=of node33, small] (node43) {a c}; %   edge [cycle_arrow] (node33);
\node[smodel, below=of node34, small] (node44) {a c b} edge [cycle_arrow] (node34);
\draw[cycle_arrow,->] (node32) -- (node43);
\draw[cycle_arrow,->] (node33) -- (node44);

\visible<13-14>{
\node[any] (xok1) at ($ (node41.south east) + (2mm,-1mm) $) {\OK};
\node[any] (xok2) at ($ (node42.south east) + (1.5mm,-1mm) $) {\OK};
\node[any] (xok3) at ($ (node43.south east) + (2.5mm,-1mm) $) {\KO};
\node[any] (xok4) at ($ (node44.south east) + (3mm,-1mm) $) {\OK};
}  % \visible<13->
}} % \visible<12->

\visible<21>{
\node[any] (ok1) at ($ (node31.south east) + (2mm,-1mm) $) {\OK};
\node[any] (ok2) at ($ (node32.south east) + (1.5mm,-1mm) $) {\OK};
\node[any] (ok3) at ($ (node33.south east) + (2.5mm,-1mm) $) {\OK};
}

}  % \only<9->

%
% rule sequence
%

\node[rule, right=of node12, xshift=3.3cm] (rule_seq_1) {\scode \{a\}.\hspace{9mm}};
%\only<9->\node[rule, right=of node12, xshift=4.3cm] (rule_seq_1) {\scode \{a\}.\hspace{9mm}};

\alert<1>{
\alert<8,17,19-20>{
\node[rule, below=of rule_seq_1] (rule_seq_2) {\scode \hspace{2mm}\alt<8->{\phantom{\{}b\phantom{\}}}{\{b\}} :- c.};
}
\alert<16,18>{
\node[rule, below=of rule_seq_2, yshift=7mm] (rule_seq_3) {\scode \hspace{2.5mm}\{c\} :- a.};
\node[rule, below=of rule_seq_3, yshift=7mm] (rule_seq_4) {\scode \hspace{2.5mm}\{a\} :- b.};
}}

% rectangle
%\only<9-14>{\alert<9>{
\visible<-6,8->{\alert<1>{
\draw[very thick, dotted, rounded corners] 
  ($ (rule_seq_2.north west) + (1.3mm,1mm) $) rectangle ($ (rule_seq_4.south east) + (-0mm,-1mm) $);
}}


% box
\visible<7>{
 \draw[on grid] ($ (rule_seq_1.north west) + (0mm,-0.1) $) rectangle ($ (rule_seq_4.south east) + (-0mm,0.1) $);
 \node[on grid] at ($ (rule_seq_1.north) + (0mm,3.5mm) $) {\texttt{example6.lp}};
}

% (Later)
%\only<8>{
%\node[align=center] at ($ (rule_seq_3.east) + (+2cm,0) $) {\Large{\textbf{\alert{Later\ldots}}}};
%}

\end{tikzpicture}
\end{center}
\end{column}
\begin{column}{0.25\textwidth}\end{column}
\end{columns}

% Later...
\only<8>{
\begin{tikzpicture}[remember picture,overlay]
%\node[align=center] at (10,-1) {\Large{\textbf{\alert{Later\ldots}}}};
\node[align=center] at (5.5,1) {\Large{\textbf{\alert{Later\ldots}}}};
\end{tikzpicture}
}

\only<14>{
\begin{tikzpicture}[remember picture,overlay,%examples,
small/.style={inner sep=0.5mm}] %,
\node[align=center] at (5.5,2.5) {\BigBigKO};
\node[align=center] (notapplied) at (5.5,-0.5) {\Large{\textbf{\alert{Normal rule {\ttfamily b :- c.} is not applied in}}}};
\end{tikzpicture}
%
\begin{tikzpicture}[remember picture,overlay,examples,small/.style={inner sep=0.5mm}]
\node[align=center, smodel, small] at (7.05,0.325) {a c}; %   edge [cycle_arrow] (node33);
\end{tikzpicture}
}
