% ----------------------------------------------------------------------
\begin{frame}[fragile,c]{Traveling}

\vspace{-0.5cm}

\large

%
% code
%
\begin{semiverbatim}
\alert<2>{
start(a).
travel(a,b). travel(b,c). travel(c,d). travel(d,a).}

\alert<3>{visited(Y) :- travel(X,Y), start(X).}

\alert<4-8>{visited(Y) :- travel(X,Y), visited(X).}
\end{semiverbatim}

\vspace{0.1cm}

%
% figure
%
\visible<2->{

\begin{center}

\begin{tikzpicture}[examples]

% smodels
\node[align=center, on grid] (smodel) at (0,0){
\alert<2-3>{\texttt{start(a)}}
\\
\begin{tabular}{r@{\ }l}
\alert<2-3>{\texttt{travel(a,b)}} & \alert<2,4>{\texttt{travel(b,c)}}\\
\alert<2,5>{\texttt{travel(c,d)}} & \alert<2,6>{\texttt{travel(d,a)}}\\
\visible<3->{
\alert<3-4>{\texttt{visited(b)}} \visible<4->{& \alert<4-5,8>{\texttt{visited(c)}}\\
\visible<5->{
\alert<5-6,8>{\texttt{visited(d)}} \visible<6->{& \alert<6,8>{\texttt{visited(a)}}
}}}}
\end{tabular}
};

% ellipses
\visible<2>  {\draw         (-1mm,3.5mm)   ellipse [thick, x radius=3cm, y radius = 1cm   ];}
\visible<3>  {\draw         (-1mm,1.75mm)  ellipse [thick, x radius=3cm, y radius = 1.25cm];}
\visible<4>  {\draw[dashed] (-1mm,1.75mm)  ellipse [thick, x radius=3cm, y radius = 1.4cm ];}
\visible<5>  {\draw[dashed] (-1mm,0mm)     ellipse [thick, x radius=3cm, y radius = 1.65cm];}
\visible<6>  {\draw[dashed] (-1mm,0mm)     ellipse [thick, x radius=3cm, y radius = 1.8cm ];}
\visible<7>  {\draw[dashed] (-1mm,0mm)     ellipse [thick, x radius=3cm, y radius = 1.8cm ];}
\visible<8-9>{\draw         (-1mm,0mm)     ellipse [thick, x radius=3cm, y radius = 1.8cm ];}

% ok
\visible<9>{\node[any] (ok) at ($ (smodel) + (3cm,-1cm) $) {\BigBigOK};}

\end{tikzpicture}

\end{center}
} % \visible

\end{frame}
